(load "huffman.scm")

(define (encode symbols tree)
  (define (encode-1 symbols current-branch)
    (if (null? symbols)
        '()
        (let ((next-branch left-branch))
          (if (eq? (member? eq? (car symbols) next-branch) #t)
              (cons (weight-leaf next-branch)
                    (encode-1 (cdr symbols) tree))
              (encode-1 (cdr symbols) right-branch)))))
  (encode-1 symbols tree))